<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>The Weeknd</title>
</head>
<body>
    <a href="home.html">
        <button class="back-btn" onclick="history.back()">‚Üê Back</button>
    </a>
    <div class="container">
        <div class="header">
            <div class="artist-image"><img style="width: 200px; border-radius: 50%;" src="pfps/After Hours The Weeknd.jpg" alt="The Weeknd"></div>
            <h1>The Weeknd</h1>
            <div class="subtitle">Popular Songs</div>
            <div class="song-count">5 tracks available</div>
        </div>

        <div class="songs-container">
            <div class="song-item" onclick="playSong(0, 'Blinding Lights', '3:20', 'songs/blinding ligths.mpeg')">
                <div class="song-number">01</div>
                <div class="song-info">
                    <div class="song-title">Blinding Lights</div>
                    <div class="song-duration">3:20</div>
                </div>
                <div class="play-icon">‚ñ∂</div>
            </div>

            <div class="song-item" onclick="playSong(1, 'Starboy', '3:50', 'songs/starboy.mpeg')">
                <div class="song-number">02</div>
                <div class="song-info">
                    <div class="song-title">Starboy</div>
                    <div class="song-duration">3:50</div>
                </div>
                <div class="play-icon">‚ñ∂</div>
            </div>

            <div class="song-item" onclick="playSong(2, 'Save Your Tears', '3:35', 'songs/save tears.mpeg')">
                <div class="song-number">03</div>
                <div class="song-info">
                    <div class="song-title">Save Your Tears</div>
                    <div class="song-duration">3:35</div>
                </div>
                <div class="play-icon">‚ñ∂</div>
            </div>

            <div class="song-item" onclick="playSong(3, 'The Hills', '4:02', 'songs/hills.mpeg')">
                <div class="song-number">04</div>
                <div class="song-info">
                    <div class="song-title">The Hills</div>
                    <div class="song-duration">4:02</div>
                </div>
                <div class="play-icon">‚ñ∂</div>
            </div>

            <div class="song-item" onclick="playSong(4, 'Can\'t Feel My Face', '3:33', 'songs/cant feel.mpeg')">
                <div class="song-number">05</div>
                <div class="song-info">
                    <div class="song-title">Can't Feel My Face</div>
                    <div class="song-duration">3:33</div>
                </div>
                <div class="play-icon">‚ñ∂</div>
            </div>
        </div>

        <div class="player-section">
            <div class="now-playing">
                <h3>Now Playing</h3>
                <div class="current-song-title" id="currentSong">Select a song to play</div>
                <div class="current-artist" id="currentArtist"></div>
            </div>

            <audio id="audioPlayer" controls>
                Your browser does not support the audio element.
            </audio>

            <div class="controls">
                <button class="control-btn" onclick="previousSong()">‚èÆÔ∏è Previous</button>
                <button class="control-btn" onclick="playPause()" id="playBtn">‚ñ∂Ô∏è Play</button>
                <button class="control-btn" onclick="nextSong()">‚è≠Ô∏è Next</button>
            </div>

            <div class="upload-section">
                <input type="file" id="musicFile" accept="audio/*" onchange="loadCustomMusic(event)">
                <label for="musicFile" class="file-label">üìÅ Upload Audio File</label>
                <div class="upload-text">Upload your own music file to play</div>
            </div>
        </div>
    </div>

    <script>
        const songs = [
            { title: "Blinding Lights", duration: "3:20", file: "songs/blinding ligths.mpeg" },
            { title: "Starboy", duration: "3:50", file: "songs/starboy.mpeg" },
            { title: "Save Your Tears", duration: "3:35", file: "songs/save tears.mpeg" },
            { title: "The Hills", duration: "4:02", file: "songs/hills.mpeg" },
            { title: "Can't Feel My Face", duration: "3:33", file: "songs/cant feel.mpeg" }
        ];

        let currentSongIndex = -1;
        const audio = document.getElementById('audioPlayer');
        const playBtn = document.getElementById('playBtn');

        function playSong(index, title, duration, filePath) {
            currentSongIndex = index;
            
            document.querySelectorAll('.song-item').forEach(item => item.classList.remove('playing'));
            document.querySelectorAll('.song-item')[index].classList.add('playing');
            
            document.getElementById('currentSong').textContent = title;
            document.getElementById('currentArtist').textContent = 'The Weeknd';
            
            if (filePath && filePath !== '') {
                audio.src = filePath;
                audio.load();
                audio.play();
                playBtn.textContent = '‚è∏Ô∏è Pause';
            } else {
                alert(`"${title}" by The Weeknd would play here.\n\nTo actually play music, upload an audio file using the button below!`);
            }
        }

        function playPause() {
            if (audio.src && audio.src !== window.location.href) {
                if (audio.paused) {
                    audio.play();
                    playBtn.textContent = '‚è∏Ô∏è Pause';
                } else {
                    audio.pause();
                    playBtn.textContent = '‚ñ∂Ô∏è Play';
                }
            } else {
                alert('Please select a song or upload a music file first!');
            }
        }

        function nextSong() {
            if (currentSongIndex < 0) {
                currentSongIndex = 0;
            } else {
                currentSongIndex = (currentSongIndex + 1) % songs.length;
            }
            playSong(currentSongIndex, songs[currentSongIndex].title, songs[currentSongIndex].duration, songs[currentSongIndex].file);
        }

        function previousSong() {
            if (currentSongIndex < 0) {
                currentSongIndex = songs.length - 1;
            } else {
                currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            }
            playSong(currentSongIndex, songs[currentSongIndex].title, songs[currentSongIndex].duration, songs[currentSongIndex].file);
        }

        function loadCustomMusic(event) {
            const file = event.target.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                audio.src = url;
                
                document.getElementById('currentSong').textContent = file.name;
                document.getElementById('currentArtist').textContent = 'Custom Upload';
                
                playBtn.textContent = '‚ñ∂Ô∏è Play';
            }
        }

        audio.addEventListener('ended', function() {
            playBtn.textContent = '‚ñ∂Ô∏è Play';
            nextSong();
        });
    </script>
</body>
</html>